<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>ƒêƒÉng k√Ω</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js" integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz" crossorigin="anonymous"></script>
<link rel="stylesheet" href="/static/login.css">
<style>
.red { color: red; }
.distance { margin-top: 30px; margin-bottom: 30px; }
</style>
</head>
<body>
    <!--Header-->
    <header>
        <div class="left-header">
            <div class="logo">üìö Book_shop</div>
            <nav>
                <a href="/templates/TrangChu.html">Trang Ch·ªß</a>
                <a href="#">Combo gi·∫£m gi√°</a>
                <a href="#">Th·ªÉ Lo·∫°i</a>
                <a href="/templates/GioHang.html">Gi·ªè H√†ng</a>
            </nav>
        </div>
        <div class="search-login">
            <input type="text" placeholder="N·ªôi dung t√¨m ki·∫øm">
            <button class="btn-tim">T√¨m</button>
            <a href="/login"><button class="btn-dangnhap">ƒêƒÉng nh·∫≠p</button></a>
        </div>
    </header>

    <div class="container">
        <div class="text-center distance">
            <h1>ƒêƒÇNG K√ù T√ÄI KHO·∫¢N</h1>
        </div>
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }}" role="alert">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}
        <div id="error-message" class="alert alert-danger d-none" role="alert"></div>

        <form class="form" action="/register" method="post">
            <input type="hidden" name="hanhDong" value="dang-ky" />
            <div class="row">
                <div class="col-sm-6">
                    <div class="mb-3">
                        <label for="tenDangNhap" class="form-label">T√™n ƒëƒÉng nh·∫≠p<span class="red">*</span></label>
                        <input type="text" class="form-control" id="tenDangNhap" name="tenDangNhap" required="required">
                    </div>
                    <div class="mb-3">
                        <label for="matKhau" class="form-label">M·∫≠t kh·∫©u<span class="red">*</span></label>
                        <input type="password" class="form-control" id="matKhau" name="matKhau" required="required">
                    </div>
                    <div class="mb-3">
                        <label for="matKhauNhapLai" class="form-label">Nh·∫≠p l·∫°i m·∫≠t kh·∫©u<span class="red">*</span> <span id="msg" class="red"></span></label>
                        <input type="password" class="form-control" id="matKhauNhapLai" name="matKhauNhapLai" required="required">
                    </div>
                    <hr />
                    <div class="mb-3">
                        <label for="hoVaTen" class="form-label">H·ªç v√† t√™n</label>
                        <input type="text" class="form-control" id="hoVaTen" name="hoVaTen" value="">
                    </div>
                    <div class="mb-3">
                        <label for="gioiTinh" class="form-label">Gi·ªõi t√≠nh</label>
                        <select class="form-control" id="gioiTinh" name="gioiTinh">
                            <option></option>
                            <option value="Nam">Nam</option>
                            <option value="N·ªØ">N·ªØ</option>
                            <option value="Kh√°c">Kh√°c</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="ngaySinh" class="form-label">Ng√†y sinh</label>
                        <input type="date" class="form-control" id="ngaySinh" name="ngaySinh">
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="mb-3">
                        <label for="diaChiKhachHang" class="form-label">ƒê·ªãa ch·ªâ kh√°ch h√†ng</label>
                        <input type="text" class="form-control" id="diaChiKhachHang" name="diaChiKhachHang">
                    </div>
                    <div class="mb-3">
                        <label for="diaChiMuaHang" class="form-label">ƒê·ªãa ch·ªâ mua h√†ng</label>
                        <input type="text" class="form-control" id="diaChiMuaHang" name="diaChiMuaHang">
                    </div>
                    <div class="mb-3">
                        <label for="diaChiNhanHang" class="form-label">ƒê·ªãa ch·ªâ nh·∫≠n h√†ng</label>
                        <input type="text" class="form-control" id="diaChiNhanHang" name="diaChiNhanHang">
                    </div>
                    <div class="mb-3">
                        <label for="dienThoai" class="form-label">ƒêi·ªán tho·∫°i</label>
                        <input type="tel" class="form-control" id="dienThoai" name="dienThoai">
                    </div>
                    <div class="mb-3">
                        <label for="email" class="form-label">Email</label>
                        <input type="email" class="form-control" id="email" name="email">
                    </div>
                    <hr />
                    <div class="mb-3">
                        <label for="dongYDieuKhoan" class="form-label">ƒê·ªìng √Ω v·ªõi <a href="/terms">ƒëi·ªÅu kho·∫£n c·ªßa c√¥ng ty</a><span class="red">*</span></label>
                        <input type="checkbox" class="form-check-input" id="dongYDieuKhoan" name="dongYDieuKhoan" required="required">
                    </div>
                    <div class="mb-3">
                        <label for="dongYNhanMail" class="form-label">ƒê·ªìng √Ω nh·∫≠n email</label>
                        <input type="checkbox" class="form-check-input" id="dongYNhanMail" name="dongYNhanMail">
                    </div>
                    <input class="btn btn-primary form-control" type="submit" value="ƒêƒÉng k√Ω" name="submit" id="submit" style="visibility: hidden;" />
                </div>
            </div>
        </form>
    </div>
    <div class="footer py-4">
        <hr />
        <div class="container">
            <div class="row g-4">
                <div class="col-md-4">
                    <div class="h5 fw-bold mb-3">BookSach_360.vn</div>
                    <div class="social-icons">
                        <a href="#" class="me-2"><i class="bi bi-facebook"></i></a>
                        <a href="#" class="me-2"><i class="bi bi-twitter"></i></a>
                        <a href="#" class="me-2"><i class="bi bi-youtube"></i></a>
                        <a href="#" class="me-2"><i class="bi bi-instagram"></i></a>
                    </div>
                </div>
                <div class="col-md-4">
                    <ul class="list-unstyled">
                        <li class="mb-2">Li√™n h·ªá: quanlysach_360@gmail.com</li>
                        <li class="mb-2">Quy ƒë·ªãnh giao h√†ng</li>
                        <li class="mb-2">Quy ƒë·ªãnh tr·∫£ h√†ng</li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <ul class="list-unstyled">
                        <li class="mb-2">Ch√≠nh s√°ch ho·∫°t ƒë·ªông</li>
                        <li class="mb-2">Ch√≠nh s√°ch tr·∫£ h√†ng</li>
                        <li class="mb-2">Ch√≠nh s√°ch b·∫£o m·∫≠t</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</body>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const matKhau = document.getElementById('matKhau');
        const matKhauNhapLai = document.getElementById('matKhauNhapLai');
        const msg = document.getElementById('msg');
        const submitBtn = document.getElementById('submit');
        const checkDieuKhoan = document.getElementById('dongYDieuKhoan');
        const errorMessage = document.getElementById('error-message');

        checkDieuKhoan.addEventListener('change', function () {
            submitBtn.style.visibility = this.checked ? 'visible' : 'hidden';
        });

        matKhauNhapLai.addEventListener('input', function () {
            msg.textContent = (matKhau.value !== matKhauNhapLai.value) ? " - M·∫≠t kh·∫©u kh√¥ng kh·ªõp!" : "";
        });

        document.querySelector('form').addEventListener('submit', function (e) {
            const requiredFields = [
                'tenDangNhap',
                'matKhau',
                'matKhauNhapLai',
                'hoVaTen',
                'dienThoai',
                'email',
                'diaChiKhachHang',
                'diaChiMuaHang',
                'diaChiNhanHang',
                'gioiTinh',
                'ngaySinh'
            ];

            let isValid = true;

            requiredFields.forEach(function (id) {
                const input = document.getElementById(id);
                if (input && input.value.trim() === '') {
                    isValid = false;
                    input.classList.add('is-invalid');
                } else {
                    input.classList.remove('is-invalid');
                }
            });

            if (matKhau.value !== matKhauNhapLai.value) {
                msg.textContent = " - M·∫≠t kh·∫©u kh√¥ng kh·ªõp!";
                isValid = false;
            } else {
                msg.textContent = "";
            }

            if (!isValid) {
                e.preventDefault();
                errorMessage.textContent = "B·∫°n vui l√≤ng nh·∫≠p ph·∫ßn c√≤n l·∫°i.";
                errorMessage.classList.remove('d-none');
                window.scrollTo(0, 0);
            }
        });
    });
</script>
</html>